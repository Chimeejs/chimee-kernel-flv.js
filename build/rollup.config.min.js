import base, { banner } from './rollup.config.base';
import uglify from 'rollup-plugin-uglify';
import { minify } from 'uglify-es';
import replace from 'rollup-plugin-replace';
const { name } = require('../package.json');
import { camelize } from 'toxic-utils';
const config = base('min');
config.plugins.unshift(replace({
  'process.env.NODE_ENV': '"production"',
}));
config.plugins.push(uglify({}, minify));
export default Object.assign(config, {
  output: {
    banner,
    format: 'umd',
    file: 'lib/index.min.js',
    name: camelize(name, true),
  },
});
